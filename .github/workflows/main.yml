name: GitHub Pages

on:
  push:
    branches:
      - main  # Replace with your branch name

jobs:
  deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v2
      
    - name: Set up Node.js
      uses: actions/setup-node@v2
      with:
        node-version: '14'
      
    - name: Build and Deploy
      run: |
        npm install  # Replace with your build commands
        npm run build  # Replace with your build commands
        
        # Set up the git configuration
        git config --global user.name "${{ github.actor }}"
        git config --global user.email "${{ github.actor }}@users.noreply.github.com"
        
        # Push the build files to the gh-pages branch
        git checkout --orphan gh-pages
        git --work-tree ./dist add --all
        git --work-tree ./dist commit -m "Deploy to GitHub Pages"
        git push origin HEAD:gh-pages --force
        
        # Clean up the build files and the temporary branch
        git checkout main  # Replace with your branch name
        git branch -D gh-pages
